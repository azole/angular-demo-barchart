<div class="hero-unit" ng-repeat="data in main.resource | filter: main.filter.year">
    <h1>{{data.year}}</h1>
    <hr>
    <h2>Bar Chart</h2>
    <div class="chart-canvas">
        <div class="chart-row" ng-repeat="region in data.regions | filter: main.filter.regions">
            <label class="chart-row-label">{{region.name}}</label>
            <div class="chart-bar-young" style="width: {{region.value}}%"></div>

            <!--
            ---- It's very difficult to draw the rest 2 bars here if we don't integrate the data sources
            --->
        </div>
    </div>
    <hr>
    <div class="row">
        <div class="span4">
            <h2>幼年人口比率</h2>
            <code ng-repeat="region in data.regions | filter: main.filter.regions">{{region}}</code>
        </div>
        <div class="span4">
            <h2>青壯年人口比率</h2>
            <code ng-repeat="region in (main.resource2 | filter: main.filter.year)[0].regions | filter: main.filter.regions">{{region}}</code>
        </div>
    </div>
</div>

<footer class="text-right navbar navbar-fixed-bottom form-inline">
    <div class="form-inline-control-group">
        <label class="form-inline-control-label">Year:</label>
        <select ng-model="main.filter.year" ng-options="data.year as data.year for data in main.resource"></select>
    </div>
    <div class="form-inline-control-group">
        <label class="form-inline-control-label">Region:</label>
        <select ng-model="main.filter.regions" ng-options="region.name as region.name for region in main.resource[0].regions">
            <option value="">-- 選擇地區 --</option>
        </select>
    </div>
</footer>
